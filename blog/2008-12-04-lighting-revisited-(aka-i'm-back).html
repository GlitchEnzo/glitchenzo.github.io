<!doctype html><html><head><title>2008-12-04 - Lighting Revisited (AKA I'm Back)</title><base href="../"><meta id="root-path" root-path="../"><link rel="icon" sizes="96x96" href="https://publish-01.obsidian.md/access/f786db9fac45774fa4f0d8112e232d67/favicon-96x96.png"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes,minimum-scale=1,maximum-scale=5"><meta charset="UTF-8"><link rel="stylesheet" href="lib/styles/obsidian-styles.css"><link rel="stylesheet" href="lib/styles/theme.css"><link rel="stylesheet" href="lib/styles/plugin-styles.css"><link rel="stylesheet" href="lib/styles/snippets.css"><link rel="stylesheet" href="lib/styles/generated-styles.css"><style></style><script src="lib/scripts/webpage.js"></script><script src="lib/scripts/generated.js"></script></head><body class="theme-light show-inline-title loading"><div class="webpage-container"><div class="sidebar-left sidebar"><div class="sidebar-container"><div class="sidebar-sizer"><div class="sidebar-content-positioner"><div class="sidebar-content"><div><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="tree-container file-tree mod-nav-indicator" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Hobbies</span><button class="clickable-icon collapse-tree-button is-collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Blog</span></a></div><div class="tree-item-children" style="display:none"><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-07-18-first-blog-entry.html"><span class="tree-item-title">2008-07-18 - First Blog Entry</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-07-19-planetary-lod.html"><span class="tree-item-title">2008-07-19 - Planetary LOD</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-07-20-lod-algorithm.html"><span class="tree-item-title">2008-07-20 - LOD Algorithm</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-07-21-rotation-issues.html"><span class="tree-item-title">2008-07-21 - Rotation Issues</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-07-22-rotation-solution.html"><span class="tree-item-title">2008-07-22 - Rotation Solution</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-07-23-rotation-solved.html"><span class="tree-item-title">2008-07-23 - Rotation Solved</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-07-29-do-you-see-the-light.html"><span class="tree-item-title">2008-07-29 - Do You See the Light</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-07-30-go-simple,-go-fast.html"><span class="tree-item-title">2008-07-30 - Go Simple, Go Fast</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-07-31-planets-are-too-big.html"><span class="tree-item-title">2008-07-31 - Planets are Too Big</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-08-02-everything-revolves-around-the-camera.html"><span class="tree-item-title">2008-08-02 - Everything revolves around the camera</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-08-04-nothing-is-easy.html"><span class="tree-item-title">2008-08-04 - Nothing is easy</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-08-06-no-real-progress.html"><span class="tree-item-title">2008-08-06 - No real progress</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-08-07-to-do-list.html"><span class="tree-item-title">2008-08-07 - To-Do List</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-08-08-huh.html"><span class="tree-item-title">2008-08-08 - Huh</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-08-10-success.html"><span class="tree-item-title">2008-08-10 - Success</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-08-17-relaxing.html"><span class="tree-item-title">2008-08-17 - Relaxing</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-09-01-new-laptop,-new-opportunities.html"><span class="tree-item-title">2008-09-01 - New Laptop, New Opportunities</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-09-02-procedural-texturing.html"><span class="tree-item-title">2008-09-02 - Procedural Texturing</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-09-14-switching-gears.html"><span class="tree-item-title">2008-09-14 - Switching Gears</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-09-26-directx-10.html"><span class="tree-item-title">2008-09-26 - DirectX 10</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-10-07-it's-getting-close.html"><span class="tree-item-title">2008-10-07 - It's getting close</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-11-07-sidetracked.html"><span class="tree-item-title">2008-11-07 - Sidetracked</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-12-04-lighting-revisited-(aka-i'm-back).html"><span class="tree-item-title">2008-12-04 - Lighting Revisited (AKA I'm Back)</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2008-12-22-starfields-nebulas.html"><span class="tree-item-title">2008-12-22 - Starfields Nebulas</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-02-03-hello-2009.html"><span class="tree-item-title">2009-02-03 - Hello 2009</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-02-05-per-pixel-normal-calculation.html"><span class="tree-item-title">2009-02-05 - Per Pixel Normal Calculation</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-02-08-deferred-lighting.html"><span class="tree-item-title">2009-02-08 - Deferred Lighting</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-02-19-fixed-lighting-+-higher-res.html"><span class="tree-item-title">2009-02-19 - Fixed Lighting + Higher Res</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-03-03-that's-no-moon-....html"><span class="tree-item-title">2009-03-03 - That's No Moon ...</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-03-18-craters.html"><span class="tree-item-title">2009-03-18 - Craters</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-04-12-tactical-rpg.html"><span class="tree-item-title">2009-04-12 - Tactical RPG</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-04-19-boxes,-cylinders,-and-spheres-(oh-my).html"><span class="tree-item-title">2009-04-19 - Boxes, Cylinders, and Spheres (Oh My)</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-05-28-physx-and-directx-10.html"><span class="tree-item-title">2009-05-28 - PhysX and DirectX 10</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-05-29-physx-planet.html"><span class="tree-item-title">2009-05-29 - PhysX Planet</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-05-31-perlin-noise-on-the-gpu.html"><span class="tree-item-title">2009-05-31 - Perlin Noise on the GPU</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-07-01-perlin-noise-in-javascript.html"><span class="tree-item-title">2009-07-01 - Perlin Noise in JavaScript</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-07-29-infinite-depth-buffer.html"><span class="tree-item-title">2009-07-29 - Infinite Depth Buffer</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-08-25-teaser.html"><span class="tree-item-title">2009-08-25 - Teaser</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-09-08-byte-order-mark-the-invisible-enemy.html"><span class="tree-item-title">2009-09-08 - Byte Order Mark - The Invisible Enemy</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-09-09-soon-..-very-soon.html"><span class="tree-item-title">2009-09-09 - Soon ... Very Soon</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-09-13-perlin-noise-in-directx-10-(shader-model-4.0).html"><span class="tree-item-title">2009-09-13 - Perlin Noise in DirectX 10 (Shader Model 4.0)</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-09-24-directx-11-gpus-have-arrived.html"><span class="tree-item-title">2009-09-24 - DirectX 11 GPUs have arrived</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-10-03-disappointment.html"><span class="tree-item-title">2009-10-03 - Disappointment</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-10-10-slimdx-august-2009-release.html"><span class="tree-item-title">2009-10-10 - SlimDX August 2009 Release</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2009-12-27-procedural-cities-in-xna.html"><span class="tree-item-title">2009-12-27 - Procedural Cities in XNA</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2010-02-19-quick-update.html"><span class="tree-item-title">2010-02-19 - Quick Update</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2010-03-01-simple-tessellation-example.html"><span class="tree-item-title">2010-03-01 - Simple Tessellation Example</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2010-03-04-cube-to-sphere-tessellation.html"><span class="tree-item-title">2010-03-04 - Cube to Sphere Tessellation</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2010-03-09-watertight-adaptive-tessellation.html"><span class="tree-item-title">2010-03-09 - Watertight Adaptive Tessellation</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2010-04-04-simple-compute-shader-example.html"><span class="tree-item-title">2010-04-04 - Simple Compute Shader Example</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2010-04-07-slimdx-issue.html"><span class="tree-item-title">2010-04-07 - SlimDX Issue</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2010-04-08-sobel-filter-compute-shader.html"><span class="tree-item-title">2010-04-08 - Sobel Filter Compute Shader</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2010-04-15-spherical-terrain-physics.html"><span class="tree-item-title">2010-04-15 - Spherical Terrain Physics</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2010-11-15-update-unity.html"><span class="tree-item-title">2010-11-15 - Update Unity</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2011-03-08-unity-gpu-noise-unity-issues.html"><span class="tree-item-title">2011-03-08 - Unity GPU Noise Unity Issues</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2011-08-18-unity-gpu-noise-(part-2).html"><span class="tree-item-title">2011-08-18 - Unity GPU Noise (Part 2)</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2011-09-12-procedural-primitives-(unity-asset-store).html"><span class="tree-item-title">2011-09-12 - Procedural Primitives (Unity Asset Store)</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2011-09-15-unity-gpu-noise-(part-3).html"><span class="tree-item-title">2011-09-15 - Unity GPU Noise (Part 3)</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2011-09-25-unity-gpu-noise-(part-4).html"><span class="tree-item-title">2011-09-25 - Unity GPU Noise (Part 4)</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2012-06-22-unity-gpu-noise-(part-5).html"><span class="tree-item-title">2012-06-22 - Unity GPU Noise (Part 5)</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2012-06-28-unity-gpu-noise-1.0-released.html"><span class="tree-item-title">2012-06-28 - Unity GPU Noise 1.0 Released</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2012-07-23-unity-gpu-noise-1.3-released.html"><span class="tree-item-title">2012-07-23 - Unity GPU Noise 1.3 Released</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2013-12-12-breaking-radio-silence.html"><span class="tree-item-title">2013-12-12 - Breaking Radio Silence</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2014-02-23-dart-on-cloud-9-ide.html"><span class="tree-item-title">2014-02-23 - Dart on Cloud 9 IDE</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2014-03-09-game-a-week-1-pong.html"><span class="tree-item-title">2014-03-09 - Game A Week - 1 - Pong</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2014-03-16-game-a-week-2-asteroid-spacewar.html"><span class="tree-item-title">2014-03-16 - Game A Week - 2 - Asteroid Spacewar</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2014-03-23-game-a-week-3-orbital-golf.html"><span class="tree-item-title">2014-03-23 - Game A Week - 3 - Orbital Golf</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2014-03-30-game-a-week-4-long-jump.html"><span class="tree-item-title">2014-03-30 - Game A Week - 4 - Long Jump</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2014-05-16-dart-vs-typescript.html"><span class="tree-item-title">2014-05-16 - Dart vs TypeScript</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2015-08-07-isometric-platformer.html"><span class="tree-item-title">2015-08-07 - Isometric Platformer</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2016-01-21-post-ideas.html"><span class="tree-item-title">2016-01-21 - Post Ideas</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2016-05-27-unity-issues.html"><span class="tree-item-title">2016-05-27 - Unity Issues</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2017-07-22-making-blender-like-unity.html"><span class="tree-item-title">2017-07-22 - Making Blender Like Unity</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2018-02-15-nuget-for-unity-released.html"><span class="tree-item-title">2018-02-15 - NuGet For Unity Released</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2019-12-11-how-to-get-a-job-in-the-video-game-industry.html"><span class="tree-item-title">2019-12-11 - How to Get a Job in the Video Game Industry</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2019-12-31-another-year.html"><span class="tree-item-title">2019-12-31 - Another Year</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2020-09-17-a-positive-note.html"><span class="tree-item-title">2020-09-17 - A Positive Note</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2021-12-31-a-look-back-over-2021.html"><span class="tree-item-title">2021-12-31 - A Look Back Over 2021</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="blog/2022-03-20-announcing-pipeline.html"><span class="tree-item-title">2022-03-20 - Announcing Pipeline</span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div></div></div><div class="sidebar-gutter"><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div></div><div class="document-container show"><div class="markdown-preview-view markdown-rendered node-insert-event is-readable-line-width show-indentation-guide allow-fold-lists show-properties" tabindex="-1" style="tab-size:4"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section" style="min-height:290px"><div class="markdown-preview-pusher" style="width:1px;height:.1px;margin-bottom:0"></div><div class="mod-header"></div><div class="heading-wrapper"><h1 data-heading="Lighting Revisited (AKA I'm Back!)" class="heading" id="Lighting_Revisited_(AKA_I'm_Back!)"><div class="heading-before"></div>Lighting Revisited (AKA I'm Back!)<div class="heading-after">...</div></h1><div class="heading-children"><div><p><strong><em>2008-12-04</em></strong></p></div><div><p>So, after almost 3 months of being sidetracked with various other projects I came up with, I finally decided to come back to C# and XNA with welcome arms.</p></div><div><p>And I have come back in a big way, in my opinion. After discussing it with one of my friends, I decided that it would be best to procedurally generate a moon instead of a planet. This greatly simplifies many things; no atmosphere, no fog, no water, no vegetation, etc. However, this meant that I needed to figure out how to properly do two things: generate craters and have realistic lighting.</p></div><div><p>You may recall that I had a previous blog entry about my attempts with realistic lighting. [<a rel="noopener" class="external-link" href="http://recreationstudios.blogspot.com/2008/07/do-you-see-light.html" target="_blank">http://recreationstudios.blogspot.com/2008/07/do-you-see-light.html</a>] In the end, I determined that it would be too difficult to do now, and easy to do in the future once I had geometry shader support. So, I had settled with simple spherical lighting across the entire planet.</p></div><div><p>So, it took me quite a bit of effort to even start looking at alternative ways to render realistic lighting. In the past I was trying to calculate the other two vertices of the triangle in the vertex shader. It was with a great facepalm that I realized that what I was trying to find was the tangent of the surface and then I could use that to adjust the spherical normal. Well, as you may remember from your math classes, a tangent is calculated by taking the derivative of the original function. So, I looked into quite a few articles about how to find the derivative of a Perlin Noise function.</p></div><div><p>This article was very informative, but I wasn't quite sure on what speeds would be on the GPU:<br><a rel="noopener" class="external-link" href="http://rgba.scenesp.org/iq/computer/articles/morenoise/morenoise.htm" target="_blank">http://rgba.scenesp.org/iq/computer/articles/morenoise/morenoise.htm</a></p></div><div><p>Finally, I found an article by Ken Perlin himself that shows how to approximate the derivative:<br><a data-tooltip-position="top" aria-label="http://http.developer.nvidia.com/GPUGems/gpugems_ch05.html" rel="noopener" class="external-link" href="http://http.developer.nvidia.com/GPUGems/gpugems_ch05.html" target="_blank">http://http.developer.nvidia.com/GPUGems/gpugems_ch05.html</a> (Section 5.6)</p></div><div><p>With this little nugget of knowlege I went into my shader and wrote a function to do exactly that.</p></div><div><p>float3 NoiseDerivative(float3 position, float e)<br>{<br>//calculate the height values using Perlin Noise<br>float F0 = ridgedmf(position*noiseScale, 8);<br>float Fx = ridgedmf(float3(position.x+e, position.y, position.z)*noiseScale, 8);<br>float Fy = ridgedmf(float3(position.x, position.y+e, position.z)*noiseScale, 8);<br>float Fz = ridgedmf(float3(position.x, position.y, position.z+e)*noiseScale, 8);<br>float3 dF = float3(Fx-F0, Fy-F0, Fz-F0) / e;</p></div><div><pre><code>  //calculate the actual normal  
return normalize(position - dF);  
</code><button class="copy-code-button">Copy</button></pre></div><div><p>}</p></div><div><p>Then I simply added a call to this function in my pixel shader:<br>input.Normal = NoiseDerivative(input.Normal, 0.000001);</p></div><div><p>Lo and behold, it worked!</p></div><div><p>Check out the pics:<br><a data-tooltip-position="top" aria-label="http://3.bp.blogspot.com/_hGl_uKJzpS0/STjiaeajk-I/AAAAAAAAD_Q/lGYb2fiPP0U/s1600-h/screenshot_633640314480390000.png" rel="noopener" class="external-link" href="http://3.bp.blogspot.com/_hGl_uKJzpS0/STjiaeajk-I/AAAAAAAAD_Q/lGYb2fiPP0U/s1600-h/screenshot_633640314480390000.png" target="_blank"><img src="http://3.bp.blogspot.com/_hGl_uKJzpS0/STjiaeajk-I/AAAAAAAAD_Q/lGYb2fiPP0U/s400/screenshot_633640314480390000.png" referrerpolicy="no-referrer"></a></p></div><div><p><a data-tooltip-position="top" aria-label="http://2.bp.blogspot.com/_hGl_uKJzpS0/STjis9AcQhI/AAAAAAAAD_Y/5J1pSE5BFWs/s1600-h/screenshot_633640314863860000.png" rel="noopener" class="external-link" href="http://2.bp.blogspot.com/_hGl_uKJzpS0/STjis9AcQhI/AAAAAAAAD_Y/5J1pSE5BFWs/s1600-h/screenshot_633640314863860000.png" target="_blank"><img src="http://2.bp.blogspot.com/_hGl_uKJzpS0/STjis9AcQhI/AAAAAAAAD_Y/5J1pSE5BFWs/s400/screenshot_633640314863860000.png" referrerpolicy="no-referrer"></a></p></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-gutter"><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-container"><div class="sidebar-sizer"><div class="sidebar-content-positioner"><div class="sidebar-content"></div></div></div></div></div></div></body></html>